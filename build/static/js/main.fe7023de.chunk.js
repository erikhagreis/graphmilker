(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getPageId",function(){return M}),n.d(a,"getPosts",function(){return F}),n.d(a,"getPostDetails",function(){return V});var r={};n.r(r),n.d(r,"getLoginStatus",function(){return B}),n.d(r,"login",function(){return Q}),n.d(r,"getPermissions",function(){return H}),n.d(r,"getAccounts",function(){return W});n(75);var o=n(0),c=n.n(o),s=n(36),i=n.n(s),u=n(5),l=n(17),m=n(71),p=n(72),d=n(2),f=n(1),g={loggedIn:!1,permissions:null},_=n(26),E=n(20);function h(e,t,n){for(var a=arguments.length,r=new Array(a>3?a-3:0),o=3;o<a;o++)r[o-3]=arguments[o];return[].concat(Object(E.a)(e.slice(0,t)),r,Object(E.a)(e.slice(t+n)))}var b=Object(l.c)({config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_APP_START":return Object(d.a)({},e,{pending:!0});case"INIT_APP_COMPLETE":return Object(d.a)({},e,{pending:!1},t.data);case"GET_PAGE_ID_RESPONSE":return Object(d.a)({},e,{pageId:t.data.id});default:return e}},formData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORM_UPDATE_VALUE":var n=t.data,a=n.formName,r=n.fieldName,o=n.fieldValue,c=n.fieldValidation,s=Object(d.a)({},e[a],Object(_.a)({},r,{name:r,value:o,validation:c}));return Object(d.a)({},e,Object(_.a)({},a,s));default:return e}},pageAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_GET_ACCOUNTS_RESPONSE":return t.data||{};default:return e}},permissions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_GET_PERMISSIONS_RESPONSE":return t.data;default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stubs:[],details:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POSTS_REQUEST":case"GET_POST_DETAILS_REQUEST":return Object(d.a)({},e,{fetching:!0,error:!1});case"GET_POSTS_ERROR":case"GET_POST_DETAILS_ERROR":return Object(d.a)({},e,{fetching:!1,error:!0});case"GET_POSTS_RESPONSE":return Object(d.a)({},e,{fetching:!1,error:!1,stubs:[].concat(Object(E.a)(e.stubs),Object(E.a)(t.data.posts)),cursors:t.data.paging.cursors});case"GET_POST_DETAILS_RESPONSE":var n=Object(f.findIndex)(e.details,{id:t.data.id});return Object(d.a)({},e,{fetching:!1,error:!1,details:n>-1?h(e.details,n,1,Object(d.a)({detailsLoaded:!0},t.data)):[].concat(Object(E.a)(e.details),[t.data])});default:return e}},userAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.data;switch(n){case"USER_LOGIN_RESPONSE":case"USER_GET_LOGIN_STATUS_RESPONSE":return Object(d.a)({},e,a,{loggedIn:"connected"===Object(f.get)(a,"status")});case"USER_GET_PERMISSIONS_RESPONSE":return Object(d.a)({},e,{permissions:a});default:return e}},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SWITCH_VIEW":return Object(d.a)({},t.data);default:return e}}}),v=(n(84),function(e){var t=e.children,n=e.onClose,a=void 0===n?f.noop:n;return c.a.createElement("div",{className:"gm-overlay"},c.a.createElement("div",{className:"gm-overlay__inner"},c.a.createElement("div",{className:"gm-overlay__content"},c.a.createElement("button",{className:"gm-overlay__closeButton",onClick:a},"\u2715",c.a.createElement("span",null," close")),t)))}),O=n(11),S=n(12),N=n(14),j=n(13),y=n(15),k=(n(85),n(86),function(e){var t=e.type,n=void 0===t?"unknown":t;return c.a.createElement("div",{className:"gm-error"},c.a.createElement("h2",{className:"gm-error__title gm-sectionTitle"},"Whoops. A ",n," error occurred."))}),T=(n(87),function(){return c.a.createElement("div",{className:"gm-loading"},c.a.createElement("h2",{className:"gm-loading__title gm-sectionTitle"},"Hold on..."))}),R=(n(88),n(3)),w=n.n(R),P=n(10),U=n(37),I=n.n(U),A=n(4),G=function(e){return Object(f.get)(e,"config.pageName")},D=function(e){return Object(f.get)(e,"pageAuth.".concat(G(e),".access_token"),function(e){return Object(f.get)(e,"userAuth.access_token")}(e))},L=function(e){return Object(f.get)(e,"attachments.data.0.media_type","status")},x=function(e){var t=Object(f.get)(e,"attachments.data.0.url","status"),n=I()(t).query;return n.u?decodeURIComponent(n.u):t},C=function(){var e=Object(P.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.api("/","post",{scrape:!0,id:t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),M=function(){return function(e,t){return e({type:"GET_PAGE_ID_REQUEST"}),A.api("/".concat(G(t())),"get",{access_token:D(t()),fields:"id"}).then(function(t){if(!t||t.error){var n=t.error||"Error occured in getPageId";throw e({type:"GET_PAGE_ID_ERROR",error:n}),n}return e({type:"GET_PAGE_ID_RESPONSE",data:t}),t})}},F=function(){return function(){var e=Object(P.a)(w.a.mark(function e(t,n){var a,r,o,c,s,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_POSTS_REQUEST"}),a=Object(f.get)(n(),"posts.cursors.after"),r=a?"?after=".concat(a):"",e.next=5,A.api("/".concat(G(n()),"/posts").concat(r),"get",{access_token:D(n()),fields:"id,message,attachments{media_type}",limit:10});case 5:if((o=e.sent)&&!o.error){e.next=10;break}throw c=o.error||"Error occured in getPosts",t({type:"GET_POSTS_ERROR",error:c}),c;case 10:return s=Object(f.map)(o.data,function(e){return Object(d.a)({},e,{type:L(e)})}),i={posts:s,paging:o.paging},t({type:"GET_POSTS_RESPONSE",data:i}),e.abrupt("return",i);case 14:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},V=function(e){return function(){var t=Object(P.a)(w.a.mark(function t(n,a){var r,o,c,s,i,u,l;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_POST_DETAILS_REQUEST"}),t.next=3,A.api("/".concat(e),"get",{access_token:D(a()),fields:"id,attachments{media_type,url,url_unshimmed},created_time,message,message_tags,full_picture"});case 3:if((r=t.sent)&&!r.error){t.next=8;break}throw o=r.error||"Error occured in getPostDetails",n({type:"GET_POST_DETAILS_ERROR",error:o}),o;case 8:if(c=L(r),s=x(r),"link"!==c){t.next=16;break}if(!s){t.next=16;break}return t.next=14,C(s);case 14:u=t.sent,i=Object(f.reduce)(Object(f.pick)(u,["title","description","url"]),function(e,t,n){return Object(f.set)(e,"og_".concat(n),t),e},{});case 16:return l=Object(d.a)({},r,i,{type:c,link:s}),n({type:"GET_POST_DETAILS_RESPONSE",data:l}),t.abrupt("return",l);case 19:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return t({type:"USER_GET_LOGIN_STATUS_REQUEST"}),A.getLoginStatus().then(function(e){return t({type:"USER_GET_LOGIN_STATUS_RESPONSE",data:Object(d.a)({status:e.status},e.authResponse)}),e},e)}},Q=function(){return function(e){return e({type:"USER_LOGIN_REQUEST"}),A.login({scope:"pages_show_list"}).then(function(t){return e({type:"USER_LOGIN_RESPONSE",data:Object(d.a)({status:t.authResponse?t.status:"rejected"},t.authResponse)}),t})}},H=function(){return function(e,t){return e({type:"USER_GET_PERMISSIONS_REQUEST"}),A.api("/me/permissions","get",{access_token:t().userAuth.access_token}).then(function(t){if(!t||t.error){var n=t.error||"Error occured in getPermissions";throw e({type:"USER_GET_PERMISSIONS_ERROR",error:n}),n}var a=Object(f.map)(t.data,"permission"),r=Object(f.map)(t.data,"status"),o=Object(f.zipObject)(a,r);return e({type:"USER_GET_PERMISSIONS_RESPONSE",data:o}),o})}},W=function(){return function(e,t){return e({type:"USER_GET_ACCOUNTS_REQUEST"}),A.api("/me/accounts","get",{access_token:t().userAuth.access_token,fields:"access_token,name,id,page_token,username"}).then(function(t){if(!t||t.error){var n=t.error||"Error occured in getPageId";throw e({type:"USER_GET_ACCOUNTS_ERROR",error:n}),n}var a=Object(f.map)(t.data,"username"),r=Object(f.zipObject)(a,t.data);return e({type:"USER_GET_ACCOUNTS_RESPONSE",data:r}),r})}},Y=function(e){return function(t){return t({type:"INIT_APP_START"}),A.load().then(function(){return A.init({appId:e.appId,version:"v3.2"}),t({type:"INIT_APP_COMPLETE",data:e}),e})}},q=function(e,t){return{type:"SWITCH_VIEW",data:{name:e,detailId:t}}},z=function(){return function(){var e=Object(P.a)(w.a.mark(function e(t,n){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(B());case 2:t(J());case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},J=function(){return function(){var e=Object(P.a)(w.a.mark(function e(t,n){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(f.get)(n(),"userAuth.loggedIn",!1)){e.next=4;break}return t(q("login")),e.abrupt("return");case 4:return e.next=6,t(H());case 6:if("granted"===Object(f.get)(n(),"userAuth.permissions.pages_show_list")){e.next=10;break}return t(q("login")),e.abrupt("return");case 10:return e.next=12,t(W());case 12:if(a=Object(f.get)(n(),"config.pageName"),Object(f.get)(n(),"pageAuth.".concat(a,".access_token"))){e.next=17;break}return t(q("login")),e.abrupt("return");case 17:t(q("overview"));case 18:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},K=function(){return function(e){e({type:"CLOSE_GRAPHMILKER"}),window.graphmilker.hide(),e(q("overview"))}},X=function(e){return function(t,n){return n().posts.details.find(function(t){return t.id===e})?Promise.resolve():t(V(e))}},Z=function(e,t,n,a){return{type:"FORM_UPDATE_VALUE",data:{formName:e,fieldName:t,fieldValue:n,fieldValidation:a}}},$=n(6);var ee={userApi:r,pageApi:a,boot:function(e){return function(){var t=Object(P.a)(w.a.mark(function t(n){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(q("loading")),t.next=3,n(Y(e));case 3:return t.next=5,n(z());case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},closeGraphmilker:K,ensureDetails:X,formUpdateValue:Z,initApp:Y,login:function(){return function(){var e=Object(P.a)(w.a.mark(function e(t,n){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Q());case 2:t(J());case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},selectPost:function(e){return function(t,n){t({type:"SELECT_POST",data:{postId:e}});var a=n().posts.details.find(function(t){return t.id===e});n().config.onPostSelectedCallback(a),t(K())}},showDetails:function(e){return function(t,n){t(q("loading")),t(X(e)).then(function(){return t(q("postDetails",e))})}},switchView:q,urlFormSubmit:function(){return function(e,t){var n=Object(f.get)(t(),"formData.postUrlForm.postUrl",{});if(!n.value)return e(Z("postUrlForm","postUrl","","Enter a URL please."));var a=Object(f.get)(t(),"config.pageName"),r=Object(f.get)(t(),"pageAuth.".concat(a,".id")),o=function(e,t,n){var a=e.match(/\/([^\/]+)\/photos\/a\.(?:\d+\.\d+\.)?\d{12,15}\/(\d{15,17})/i)||[],r=Object($.a)(a,3),o=r[1],c=r[2];if(o===t&&c)return"".concat(n,"_").concat(c);var s=e.match(/\/([^\/]+)\/(?:videos)\/vb.(\d{12})\/(\d{15,17})?/i)||[],i=Object($.a)(s,4),u=i[1],l=i[2],m=i[3];if(u===t&&l&&m)return"".concat(l,"_").concat(m);var p=e.match(/\/([^\/]+)\/(?:videos|posts)\/(\d{15,17})\/?/i)||[],d=Object($.a)(p,3),f=d[1],g=d[2];if(f===t&&g)return"".concat(n,"_").concat(g);var _=I()(e).query;return!(!_.story_fbid||_.id!==n)&&"".concat(_.id,"_").concat(_.story_fbid)}(n.value,a,r);return o?e(X(o)).then(function(){return e(q("postDetails",o))}):e(Z("postUrlForm",n.name,n.value,"Sorry, Graphmilker does not understand this input."))}}},te=(n(110),function(e){var t=e.children,n=e.onClick,a=e.type;return c.a.createElement("button",{className:"gm-button ".concat("secondary"===a?"gm-button--secondary":""),onClick:n},t)}),ne=Object(u.b)(function(e,t){var n=Object(f.get)(e,"config.pageName"),a="unknown"===Object(f.get)(e,"userAuth.status"),r="rejected"===Object(f.get)(e,"userAuth.status"),o=Object(f.get)(e,"userAuth.loggedIn");return{loginFailed:r,pageName:n,accessTokenMissing:o&&!Object(f.get)(e,"pageAuth.".concat(n,".access_token")),permissionsMissing:o&&"granted"!==Object(f.get)(e,"userAuth.permissions.pages_show_list"),happy:a}},function(e,t){return{onLogin:function(t){t.preventDefault(),e(ee.login())}}})(function(e){var t=e.onLogin,n=e.loginFailed,a=e.pageName,r=e.accessTokenMissing,o=e.permissionsMissing,s=e.happy;return c.a.createElement("div",{className:"gm-login"},c.a.createElement("div",{className:"gm-login__main"},c.a.createElement("h2",{className:"gm-login__title gm-sectionTitle"},s?"Let's get started!":"Let's try again!"),c.a.createElement("p",{className:"gm-login__text"},"Please login to Facebook & authorise this app."),c.a.createElement("p",{className:"gm-login__text"},c.a.createElement(te,{onClick:t},"Login & Authorise"))),n&&c.a.createElement("div",{className:"gm-login__error"},c.a.createElement("p",{className:"gm-login__errorText"},"Login to Facebook failed.")),r&&c.a.createElement("div",{className:"gm-login__error"},c.a.createElement("p",{className:"gm-login__errorText"},"Allow GraphMilker to access the ",c.a.createElement("b",null,a)," Page on your behalf.")),o&&c.a.createElement("div",{className:"gm-login__error"},c.a.createElement("p",{className:"gm-login__errorText"},"Select ",c.a.createElement("b",null,"yes")," when asked permission for Graphmilker to retrieve a list of your pages.")))}),ae=(n(111),n(112),n(113),function(e){var t=e.postData,n=e.selectPost;return c.a.createElement("button",{className:"gm-postSummary",onClick:n},c.a.createElement("span",{className:"gm-postSummary__label gm-label"},t.type),c.a.createElement("span",{className:"gm-postSummary__headline"},t.message))}),re=function(e){function t(){return Object(O.a)(this,t),Object(N.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.posts.stubs.length||this.props.getPosts()}},{key:"render",value:function(){var e=this.props,t=e.posts,n=t.stubs,a=void 0===n?[]:n,r=t.cursors,o=void 0===r?{}:r,s=e.getPosts,i=e.selectPost;return c.a.createElement("div",{className:"gm-postlist"},c.a.createElement("h2",{className:"gm-postlist__title gm-sectionTitle"},"Select a post from the list:"),c.a.createElement("ul",{className:"gm-postlist__list"},a.map(function(e){return c.a.createElement("li",{className:"gm-postlist__item",key:e.id},c.a.createElement(ae,{postData:e,selectPost:function(){return i(e.id)}}))}),o.after&&c.a.createElement("li",{className:"gm-postlist__item gm-postlist__item--loadMore"},c.a.createElement(te,{onClick:function(){return s()},type:"secondary"},"\uff0b Load more posts"))))}}]),t}(o.Component),oe={getPosts:function(){return ee.pageApi.getPosts()},selectPost:function(e){return ee.showDetails(e)}},ce=Object(u.b)(function(e){return{posts:e.posts}},oe)(re),se=(n(114),function(e){function t(){return Object(O.a)(this,t),Object(N.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.formData,n=e.formSubmit,a=e.formUpdateValues;return c.a.createElement("form",{className:"gm-postUrlForm",onSubmit:n},c.a.createElement("h2",{className:"gm-postUrlForm__heading gm-visuallyhidden"},"Enter the URL of a Facebook post"),c.a.createElement("div",{className:"gm-postUrlForm__field"},c.a.createElement("input",{className:"gm-postUrlForm__input",type:"text",name:"postUrl",ref:"postUrl",placeholder:"Paste status update link here",value:Object(f.get)(t,"postUrl.value",""),onChange:a}),c.a.createElement("input",{className:"gm-button gm-postUrlForm__submit",type:"submit",value:"\u25b6 go"})),this.getValidationMessage())}},{key:"getValidationMessage",value:function(){var e=this.props.formData,t=Object(f.get)(e,"postUrl.validation");if(t)return c.a.createElement("div",{className:"gm-postUrlForm__validationMessage"},t)}}]),t}(o.Component)),ie=Object(u.b)(function(e){return{formData:Object(f.get)(e,"formData.postUrlForm",{})}},function(e){return{formSubmit:function(t){return t.preventDefault(),e(ee.urlFormSubmit())},formUpdateValues:function(t){return e(ee.formUpdateValue("postUrlForm",t.target.name,t.target.value))}}})(se),ue=function(){return c.a.createElement("div",{className:"gm-overview"},c.a.createElement(ie,null),c.a.createElement(ce,null))},le=(n(115),n(73)),me=n(47),pe=n.n(me),de=(n(217),function(e){var t=e.imageUrl;return c.a.createElement("img",{className:"gm-postImage",src:t,alt:""})}),fe=(n(218),function(e){var t=e.imageUrl,n=e.title,a=e.description,r=e.linkUrl;return c.a.createElement("a",{className:"gm-postLinkBlock",href:r,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{className:"gm-postLinkBlock__image",src:t,alt:""}),c.a.createElement("div",{className:"gm-postLinkBlock__text"},c.a.createElement("h3",{className:"gm-postLinkBlock__title"},n),c.a.createElement("p",{className:"gm-postLinkBlock__description"},a),c.a.createElement("p",{className:"gm-postLinkBlock__domain"},function(e){var t=/https?:\/\/([^\/?]+)/.exec(e)||[],n=Object($.a)(t,2)[1];return void 0===n?"":n}(r))))});n(219);var ge=function(e){var t=e.iframeUrl,n=void 0===t?"":t;return c.a.createElement("div",{className:"gm-postVideo"},c.a.createElement("iframe",{title:"facebook post embedded video",src:_e(n),className:"gm-postVideo__iframe",scrolling:"no",frameBorder:"0",allowFullScreen:!0}))};function _e(e){var t=e.match(/youtu\.be\/(\w+)/)||[],n=Object($.a)(t,2)[1];if(n)return Ee(n);var a=e.match(/youtube\.com\/attribution_link(?:.)+[?&]u=(.+)&?/)||[],r=Object($.a)(a,2)[1];if(r){var o=decodeURIComponent(r).match(/[?&]v=(\w+)&?/)||[],c=Object($.a)(o,2)[1];if(c)return Ee(c)}var s=e.match(/facebook\.com\/.+\/videos\/(\d+)/)||[];return Object($.a)(s,2)[1]?"https://www.facebook.com/plugins/video.php?href=".concat(encodeURIComponent(e),"&show_text=0&width=560"):e}function Ee(e){return"https://www.youtube.com/embed/".concat(e)}var he=function(e){function t(){return Object(O.a)(this,t),Object(N.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(S.a)(t,[{key:"getVisual",value:function(){var e=this.props.post;if("video"===e.type){if(e.link)return c.a.createElement(ge,{iframeUrl:e.link})}else{if("link"===e.type)return c.a.createElement(fe,{imageUrl:e.full_picture,title:e.og_title,description:e.og_description,linkUrl:e.og_url});if(e.full_picture)return c.a.createElement(de,{imageUrl:e.full_picture})}}},{key:"render",value:function(){var e=this.props,t=e.selectPost,n=e.goBack,a=e.post;return c.a.createElement("div",{className:"gm-postDetails"},c.a.createElement("div",{className:"gm-postDetails__header"},c.a.createElement("h2",{className:"gm-postDetails__title gm-sectionTitle"},c.a.createElement("span",{className:"gm-postDetails__label gm-label"},a.type),c.a.createElement("span",{className:"gm-postDetails__postDate"},"posted ",function(e){var t=pe()(),n=pe()(e);return t.diff(n,"days")<1?n.fromNow():n.format("MMMM Do YYYY")}(a.created_time))),c.a.createElement("div",{className:"gm-postDetails__buttons"},c.a.createElement(te,{onClick:function(){return t(a.id)}},"\u2713 select this post"),c.a.createElement(te,{onClick:n,type:"secondary"},"\u25c0 back"))),c.a.createElement("div",{className:"gm-postDetails__body",dangerouslySetInnerHTML:{__html:Object(le.text2html)(a.message,a.message_tags)}}),c.a.createElement("div",{className:"gm-postDetails__footer"},"(",c.a.createElement("a",{href:"https://www.facebook.com/".concat(a.id),target:"_blank",className:"gm-postDetails__link",rel:"noopener noreferrer"},"Open post in Facebook"),")"),c.a.createElement("div",{className:"gm-postDetails__imageFrame"},this.getVisual()))}}]),t}(o.Component),be={goBack:function(){return ee.switchView("overview")},selectPost:function(e){return ee.selectPost(e)}},ve=Object(u.b)(function(e){return{postId:e.view.detailId,post:e.posts.details.find(function(t){return t.id===e.view.detailId})}},be)(he),Oe=function(e){function t(){return Object(O.a)(this,t),Object(N.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.boot(this.props.config)}},{key:"render",value:function(){var e=this.props,t=e.pageName,n=e.viewName;return c.a.createElement("div",{className:"gm-graphmilker"},c.a.createElement("h1",{className:"gm-graphmilker__title"},"GraphMilker ",t&&"for '".concat(t,"'")),c.a.createElement("div",{className:"gm-graphmilker__main"},function(){switch(n){case"postDetails":return c.a.createElement(ve,null);case"overview":return c.a.createElement(ue,null);case"login":return c.a.createElement(ne,null);case"loading":return c.a.createElement(T,null);default:return c.a.createElement(k,{type:"404"})}}()))}}]),t}(o.Component),Se={boot:ee.boot},Ne=Object(u.b)(function(e,t){return{pageName:e.config.pageName,viewName:e.view.name}},Se)(Oe),je=Object(l.d)(b,{},Object(l.a)(m.a,Object(p.createLogger)())),ye=function(e,t){i.a.render(c.a.createElement(u.a,{store:je},c.a.createElement(v,{onClose:function(){return je.dispatch(ee.closeGraphmilker())}},c.a.createElement(Ne,{config:t}))),e)},ke={};function Te(){return document.getElementById("graphmilker")}window.graphmilker={hide:function(){Te().style.display="none"},setConfig:function(e){ke=e},show:function(){var e=Te();e?e.style.display="block":function(){var e=document.createElement("div");e.id="graphmilker",document.body.appendChild(e),ye(e,ke)}()}}},74:function(e,t,n){e.exports=n(220)},75:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){}},[[74,1,2]]]);
//# sourceMappingURL=main.fe7023de.chunk.js.map